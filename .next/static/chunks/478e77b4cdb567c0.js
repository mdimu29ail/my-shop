(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1987,e=>{"use strict";e.s(["default",()=>o]);var r=e.i(43476),t=e.i(71645),s=e.i(17255),i=e.i(38325);function o(){let{data:e,status:o}=(0,s.useSession)(),[a,n]=(0,t.useState)([]),c=async()=>{if(e)try{let r=await fetch("/api/orders?email=".concat(e.user.email)),t=await r.json();Array.isArray(t)?n(t):n([])}catch(e){console.error(e)}};(0,t.useEffect)(()=>{"authenticated"===o&&c()},[o,e]);let l=async e=>{if((await i.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let r=await fetch("/api/orders/".concat(e),{method:"DELETE"}),t=await r.json();r.ok?(i.default.fire("Deleted!",t.message,"success"),c()):i.default.fire("Error",t.message||"Failed to delete","error")}catch(e){i.default.fire("Error",e.message,"error")}};return"loading"===o?(0,r.jsx)("p",{children:"Loading..."}):e?(0,r.jsxs)("div",{className:" mx-auto p-8 bg-[#F8EFBA] text-black",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6 text-orange-500",children:"My Orders"}),0===a.length?(0,r.jsx)("p",{children:"No orders yet."}):(0,r.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,r.jsxs)("div",{className:"p-4 border rounded shadow flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Product:"})," ",e.productName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Price:"})," $",e.price]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"User:"})," ",e.userName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.userEmail]})]}),(0,r.jsx)("button",{onClick:()=>l(e._id),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Delete"})]},e._id))})]}):(0,r.jsx)("p",{children:"Please login to see your orders."})}}]);