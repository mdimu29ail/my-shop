(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,l)=>{a.exports=e.r(76562)},29460,e=>{"use strict";e.s(["default",()=>n]);var a=e.i(43476),l=e.i(71645),s=e.i(18566),t=e.i(38325);function n(){let e=(0,s.useParams)(),n=(0,s.useRouter)(),[r,i]=(0,l.useState)({name:"",brand:"",rating:"",reviews_count:"",current_price:"",original_price:"",stock_status:"",quantity_left:"",colors_available:[],selected_color:"",quantity_selected:1,delivery_date:"",sku:"",payment_methods:[],email:"",image:""}),[o,d]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/products/".concat(e.id));if(!a.ok)throw Error("Failed to fetch product");let l=await a.json();i({...r,name:l.name||"",brand:l.brand||"",rating:l.rating||"",reviews_count:l.reviews_count||"",current_price:l.current_price||"",original_price:l.original_price||"",stock_status:l.stock_status||"",quantity_left:l.quantity_left||"",colors_available:l.colors_available||[],selected_color:l.selected_color||"",quantity_selected:l.quantity_selected||1,delivery_date:l.delivery_date||"",sku:l.sku||"",payment_methods:l.payment_methods||[],email:l.email||"",image:l.image||""})}catch(e){t.default.fire("Error",e.message,"error")}})()},[e.id]);let c=e=>{let{name:a,value:l}=e.target;"colors_available"===a||"payment_methods"===a?i(e=>({...e,[a]:l.split(",").map(e=>e.trim())})):i(e=>({...e,[a]:l}))},m=async a=>{a.preventDefault(),d(!0);try{let a=await fetch("/api/products/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),l=await a.json();a.ok?(t.default.fire("Success",l.message,"success"),n.push("/myproducts")):t.default.fire("Error",l.message||"Failed to update","error")}catch(e){t.default.fire("Error",e.message,"error")}d(!1)};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-orange-500",children:"Update Product"}),(0,a.jsxs)("form",{onSubmit:m,className:"bg-[#F8EFBA] p-6 rounded shadow-md space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",name:"name",value:r.name,onChange:c,required:!0,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Brand"}),(0,a.jsx)("input",{type:"text",name:"brand",value:r.brand,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Current Price"}),(0,a.jsx)("input",{type:"number",name:"current_price",value:r.current_price,onChange:c,required:!0,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Original Price"}),(0,a.jsx)("input",{type:"number",name:"original_price",value:r.original_price,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Rating"}),(0,a.jsx)("input",{type:"number",step:"0.1",name:"rating",value:r.rating,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Reviews Count"}),(0,a.jsx)("input",{type:"number",name:"reviews_count",value:r.reviews_count,onChange:c,className:"w-full px-4 py-2 border rounded"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Stock Status"}),(0,a.jsx)("input",{type:"text",name:"stock_status",value:r.stock_status,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Quantity Left"}),(0,a.jsx)("input",{type:"number",name:"quantity_left",value:r.quantity_left,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Colors Available (comma separated)"}),(0,a.jsx)("input",{type:"text",name:"colors_available",value:r.colors_available.join(", "),onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Selected Color"}),(0,a.jsx)("input",{type:"text",name:"selected_color",value:r.selected_color,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Quantity Selected"}),(0,a.jsx)("input",{type:"number",name:"quantity_selected",value:r.quantity_selected,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Delivery Date"}),(0,a.jsx)("input",{type:"date",name:"delivery_date",value:r.delivery_date,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"SKU"}),(0,a.jsx)("input",{type:"text",name:"sku",value:r.sku,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:r.email,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Payment Methods (comma separated)"}),(0,a.jsx)("input",{type:"text",name:"payment_methods",value:r.payment_methods.join(", "),onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Image URL"}),(0,a.jsx)("input",{type:"text",name:"image",value:r.image,onChange:c,className:"w-full px-4 py-2 border rounded"})]}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition",children:o?"Updating...":"Update Product"})]})]})}}]);