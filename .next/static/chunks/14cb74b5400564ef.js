(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},6363,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),r=e.i(71645),s=e.i(17255),a=e.i(38325),l=e.i(18566);function o(){let{data:e,status:o}=(0,s.useSession)(),i=(0,l.useRouter)(),[n,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),m=async()=>{var t;if(null==e||null==(t=e.user)?void 0:t.email){u(!0);try{let t=await fetch("/api/products?email=".concat(e.user.email)),r=await t.json(),s=Array.isArray(r)?r.filter(t=>t.email===e.user.email):[];c(s)}catch(e){console.error(e),c([])}finally{u(!1)}}};(0,r.useEffect)(()=>{"authenticated"===o&&m()},[o,e]);let x=async t=>{if((await a.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let r=await fetch("/api/products/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.user.email})}),s=await r.json();r.ok?(a.default.fire("Deleted!",s.message||"Product deleted","success"),m()):a.default.fire("Error",s.message||"Failed to delete","error")}catch(e){a.default.fire("Error",e.message,"error")}};return"loading"===o||d?(0,t.jsx)("p",{className:"text-center mt-8",children:"Loading..."}):e?(0,t.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center text-orange-500",children:"My Products"}),0===n.length?(0,t.jsx)("p",{className:"text-center text-lg text-gray-500",children:"No products added yet."}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(e=>{var r;return(0,t.jsxs)("div",{className:"p-4 border border-gray-300 rounded-2xl shadow-lg flex flex-col justify-between transition-transform transform hover:scale-105 hover:shadow-2xl",children:[(0,t.jsx)("div",{className:"overflow-hidden rounded-xl mb-4",children:(0,t.jsx)("img",{src:e.image||"/placeholder.png",alt:e.name||"Product",className:"w-full h-40 object-cover transition-transform duration-300 hover:scale-105"})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"font-semibold text-lg truncate",children:e.name}),(0,t.jsxs)("p",{className:"font-bold text-lg mt-1",children:["$",null==(r=e.current_price)?void 0:r.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("button",{onClick:()=>i.push("/products/".concat(e._id)),className:"px-4 py-2 rounded-full bg-orange-300 hover:bg-orange-400 transition",children:"See Details"}),(0,t.jsx)("button",{onClick:()=>i.push("/products/update/".concat(e._id)),className:"px-4 py-2 rounded-full bg-yellow-300 hover:bg-yellow-400 transition",children:"Update"}),(0,t.jsx)("button",{onClick:()=>x(e._id),className:"px-4 py-2 rounded-full bg-red-300 hover:bg-red-400 transition",children:"Delete"})]})]},e._id)})})]}):(0,t.jsx)("p",{className:"text-center mt-8",children:"Please login to see your products."})}}]);