{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MD%20Imu/Desktop/products/src/lib/mongodb.js"],"sourcesContent":["// import { MongoClient } from 'mongodb';\r\n\r\n// const uri = process.env.MONGODB_URI; // আপনার MongoDB URI\r\n// const options = {};\r\n\r\n// let client;\r\n// let clientPromise;\r\n\r\n// if (!process.env.MONGODB_URI) {\r\n//   throw new Error('Please add your Mongo URI to .env');\r\n// }\r\n\r\n// if (process.env.NODE_ENV === 'development') {\r\n//   if (!global._mongoClientPromise) {\r\n//     client = new MongoClient(uri, options);\r\n//     global._mongoClientPromise = client.connect();\r\n//   }\r\n//   clientPromise = global._mongoClientPromise;\r\n// } else {\r\n//   client = new MongoClient(uri, options);\r\n//   clientPromise = client.connect();\r\n// }\r\n\r\n// export default clientPromise;\r\nimport { MongoClient } from 'mongodb';\r\n\r\nconst uri = process.env.MONGODB_URI;\r\nconst options = {};\r\n\r\nlet client;\r\nlet clientPromise;\r\n\r\nif (!process.env.MONGODB_URI) {\r\n  throw new Error('Please add your Mongo URI to .env');\r\n}\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri, options);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n} else {\r\n  client = new MongoClient(uri, options);\r\n  clientPromise = client.connect();\r\n}\r\n\r\nexport default clientPromise;\r\n"],"names":[],"mappings":"AAAA,yCAAyC;AAEzC,4DAA4D;AAC5D,sBAAsB;AAEtB,cAAc;AACd,qBAAqB;AAErB,kCAAkC;AAClC,0DAA0D;AAC1D,IAAI;AAEJ,gDAAgD;AAChD,uCAAuC;AACvC,8CAA8C;AAC9C,qDAAqD;AACrD,MAAM;AACN,gDAAgD;AAChD,WAAW;AACX,4CAA4C;AAC5C,sCAAsC;AACtC,IAAI;AAEJ,gCAAgC;;;;;AAChC;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,wCAA4C;IAC1C,IAAI,CAAC,yDAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,sHAAW,CAAC,KAAK;QAC9B,yDAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,gBAAgB,yDAAO,mBAAmB;AAC5C;;uCAKe","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MD%20Imu/Desktop/products/src/app/api/products/route.js"],"sourcesContent":["import clientPromise from '@/lib/mongodb';\r\nimport { NextResponse } from 'next/server';\r\n\r\nexport async function GET() {\r\n  const client = await clientPromise;\r\n  const db = client.db('myshop');\r\n  const products = await db.collection('products').find({}).toArray();\r\n  return new Response(JSON.stringify(products), { status: 200 });\r\n}\r\n\r\n// export async function POST(req) {\r\n//   const { title, description, price, image } = await req.json();\r\n//   const client = await clientPromise;\r\n//   const db = client.db('myshop');\r\n//   const result = await db\r\n//     .collection('products')\r\n//     .insertOne({ title, description, price, image });\r\n//   return new Response(JSON.stringify(result), { status: 201 });\r\n// }\r\nexport async function POST(req) {\r\n  try {\r\n    const data = await req.json(); // must use await req.json()\r\n\r\n    const client = await clientPromise;\r\n    const db = client.db('myshop');\r\n\r\n    const result = await db.collection('products').insertOne(data);\r\n\r\n    return new Response(\r\n      JSON.stringify({ success: true, id: result.insertedId }),\r\n      {\r\n        status: 200,\r\n        headers: { 'Content-Type': 'application/json' },\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.error(err);\r\n    return new Response(\r\n      JSON.stringify({ success: false, message: err.message }),\r\n      {\r\n        status: 500,\r\n        headers: { 'Content-Type': 'application/json' },\r\n      }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,SAAS,MAAM,kIAAa;IAClC,MAAM,KAAK,OAAO,EAAE,CAAC;IACrB,MAAM,WAAW,MAAM,GAAG,UAAU,CAAC,YAAY,IAAI,CAAC,CAAC,GAAG,OAAO;IACjE,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,WAAW;QAAE,QAAQ;IAAI;AAC9D;AAWO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,IAAI,4BAA4B;QAE3D,MAAM,SAAS,MAAM,kIAAa;QAClC,MAAM,KAAK,OAAO,EAAE,CAAC;QAErB,MAAM,SAAS,MAAM,GAAG,UAAU,CAAC,YAAY,SAAS,CAAC;QAEzD,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YAAE,SAAS;YAAM,IAAI,OAAO,UAAU;QAAC,IACtD;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YAAE,SAAS;YAAO,SAAS,IAAI,OAAO;QAAC,IACtD;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ;AACF","debugId":null}}]
}