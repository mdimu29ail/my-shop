module.exports=[9187,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(53046);function f(){let{data:a,status:f}=(0,d.useSession)(),[g,h]=(0,c.useState)([]),i=async()=>{if(a)try{let b=await fetch(`/api/orders?email=${a.user.email}`),c=await b.json();Array.isArray(c)?h(c):h([])}catch(a){console.error(a)}};(0,c.useEffect)(()=>{"authenticated"===f&&i()},[f,a]);let j=async a=>{if((await e.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let b=await fetch(`/api/orders/${a}`,{method:"DELETE"}),c=await b.json();b.ok?(e.default.fire("Deleted!",c.message,"success"),i()):e.default.fire("Error",c.message||"Failed to delete","error")}catch(a){e.default.fire("Error",a.message,"error")}};return"loading"===f?(0,b.jsx)("p",{children:"Loading..."}):a?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-6 text-orange-500",children:"My Orders"}),0===g.length?(0,b.jsx)("p",{children:"No orders yet."}):(0,b.jsx)("div",{className:"space-y-4",children:g.map(a=>(0,b.jsxs)("div",{className:"p-4 border rounded shadow flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Product:"})," ",a.productName]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Price:"})," $",a.price]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"User:"})," ",a.userName]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Email:"})," ",a.userEmail]})]}),(0,b.jsx)("button",{onClick:()=>j(a._id),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Delete"})]},a._id))})]}):(0,b.jsx)("p",{children:"Please login to see your orders."})}}];

//# sourceMappingURL=src_app_dashboard_orders_page_jsx_0c2e80ba._.js.map