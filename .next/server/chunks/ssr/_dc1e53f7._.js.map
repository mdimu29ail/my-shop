{"version":3,"sources":["turbopack:///[project]/node_modules/next/navigation.js","turbopack:///[project]/src/app/products/update/[id]/page.jsx"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n","'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default function UpdateProduct() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const [product, setProduct] = useState({\r\n    name: '',\r\n    brand: '',\r\n    rating: '',\r\n    reviews_count: '',\r\n    current_price: '',\r\n    original_price: '',\r\n    stock_status: '',\r\n    quantity_left: '',\r\n    colors_available: [],\r\n    selected_color: '',\r\n    quantity_selected: 1,\r\n    delivery_date: '',\r\n    sku: '',\r\n    payment_methods: [],\r\n    email: '',\r\n    image: '',\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch product by ID\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const res = await fetch(`/api/products/${params.id}`);\r\n        if (!res.ok) throw new Error('Failed to fetch product');\r\n        const data = await res.json();\r\n        setProduct({\r\n          ...product,\r\n          name: data.name || '',\r\n          brand: data.brand || '',\r\n          rating: data.rating || '',\r\n          reviews_count: data.reviews_count || '',\r\n          current_price: data.current_price || '',\r\n          original_price: data.original_price || '',\r\n          stock_status: data.stock_status || '',\r\n          quantity_left: data.quantity_left || '',\r\n          colors_available: data.colors_available || [],\r\n          selected_color: data.selected_color || '',\r\n          quantity_selected: data.quantity_selected || 1,\r\n          delivery_date: data.delivery_date || '',\r\n          sku: data.sku || '',\r\n          payment_methods: data.payment_methods || [],\r\n          email: data.email || '',\r\n          image: data.image || '',\r\n        });\r\n      } catch (err) {\r\n        Swal.fire('Error', err.message, 'error');\r\n      }\r\n    };\r\n    fetchProduct();\r\n  }, [params.id]);\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n\r\n    // Handle arrays separately for comma-separated input\r\n    if (name === 'colors_available' || name === 'payment_methods') {\r\n      setProduct(prev => ({\r\n        ...prev,\r\n        [name]: value.split(',').map(i => i.trim()),\r\n      }));\r\n    } else {\r\n      setProduct(prev => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`/api/products/${params.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(product),\r\n      });\r\n      const result = await res.json();\r\n      if (res.ok) {\r\n        Swal.fire('Success', result.message, 'success');\r\n        router.push('/myproducts');\r\n      } else {\r\n        Swal.fire('Error', result.message || 'Failed to update', 'error');\r\n      }\r\n    } catch (err) {\r\n      Swal.fire('Error', err.message, 'error');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-8\">\r\n      <h1 className=\"text-3xl font-bold mb-6 text-orange-500\">\r\n        Update Product\r\n      </h1>\r\n\r\n      <form\r\n        onSubmit={handleUpdate}\r\n        className=\"bg-[#F8EFBA] p-6 rounded shadow-md space-y-4\"\r\n      >\r\n        {/* Name & Brand */}\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Brand</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"brand\"\r\n            value={product.brand}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        {/* Prices */}\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Current Price</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"current_price\"\r\n            value={product.current_price}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Original Price</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"original_price\"\r\n            value={product.original_price}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        {/* Rating & Reviews */}\r\n        <div className=\"flex gap-4\">\r\n          <div className=\"flex-1\">\r\n            <label className=\"block font-semibold mb-1\">Rating</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              name=\"rating\"\r\n              value={product.rating}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2 border rounded\"\r\n            />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <label className=\"block font-semibold mb-1\">Reviews Count</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"reviews_count\"\r\n              value={product.reviews_count}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2 border rounded\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stock & Quantity */}\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Stock Status</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"stock_status\"\r\n            value={product.stock_status}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Quantity Left</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"quantity_left\"\r\n            value={product.quantity_left}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        {/* Colors & Payment Methods */}\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">\r\n            Colors Available (comma separated)\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"colors_available\"\r\n            value={product.colors_available.join(', ')}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Selected Color</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"selected_color\"\r\n            value={product.selected_color}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Quantity Selected</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"quantity_selected\"\r\n            value={product.quantity_selected}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        {/* Delivery, SKU & Email */}\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Delivery Date</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"delivery_date\"\r\n            value={product.delivery_date}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">SKU</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"sku\"\r\n            value={product.sku}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={product.email}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">\r\n            Payment Methods (comma separated)\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"payment_methods\"\r\n            value={product.payment_methods.join(', ')}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        {/* Image */}\r\n        <div>\r\n          <label className=\"block font-semibold mb-1\">Image URL</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"image\"\r\n            value={product.image}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"w-full bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition\"\r\n        >\r\n          {loading ? 'Updating...' : 'Update Product'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}