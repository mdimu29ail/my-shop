module.exports=[50944,(a,b,c)=>{b.exports=a.r(74137)},68322,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(53046),f=a.i(50944);function g(){let{data:a,status:g}=(0,d.useSession)(),h=(0,f.useRouter)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),m=async()=>{if(a?.user?.email){l(!0);try{let b=await fetch(`/api/products?email=${a.user.email}`),c=await b.json(),d=Array.isArray(c)?c.filter(b=>b.email===a.user.email):[];j(d)}catch(a){console.error(a),j([])}finally{l(!1)}}};(0,c.useEffect)(()=>{"authenticated"===g&&m()},[g,a]);let n=async b=>{if((await e.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"})).isConfirmed)try{let c=await fetch(`/api/products/${b}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.user.email})}),d=await c.json();c.ok?(e.default.fire("Deleted!",d.message||"Product deleted","success"),m()):e.default.fire("Error",d.message||"Failed to delete","error")}catch(a){e.default.fire("Error",a.message,"error")}};return"loading"===g||k?(0,b.jsx)("p",{className:"text-center mt-8",children:"Loading..."}):a?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center text-orange-500",children:"My Products"}),0===i.length?(0,b.jsx)("p",{className:"text-center text-lg text-gray-500",children:"No products added yet."}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(a=>(0,b.jsxs)("div",{className:"p-4 border border-gray-300 rounded-2xl shadow-lg flex flex-col justify-between transition-transform transform hover:scale-105 hover:shadow-2xl",children:[(0,b.jsx)("div",{className:"overflow-hidden rounded-xl mb-4",children:(0,b.jsx)("img",{src:a.image||"/placeholder.png",alt:a.name||"Product",className:"w-full h-40 object-cover transition-transform duration-300 hover:scale-105"})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"font-semibold text-lg truncate",children:a.name}),(0,b.jsxs)("p",{className:"font-bold text-lg mt-1",children:["$",a.current_price]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("button",{onClick:()=>h.push(`/products/${a._id}`),className:"px-4 py-2 rounded-full bg-orange-300 hover:bg-orange-400 transition",children:"See Details"}),(0,b.jsx)("button",{onClick:()=>h.push(`/products/update/${a._id}`),className:"px-4 py-2 rounded-full bg-yellow-300 hover:bg-yellow-400 transition",children:"Update"}),(0,b.jsx)("button",{onClick:()=>n(a._id),className:"px-4 py-2 rounded-full bg-red-300 hover:bg-red-400 transition",children:"Delete"})]})]},a._id))})]}):(0,b.jsx)("p",{className:"text-center mt-8",children:"Please login to see your products."})}}];

//# sourceMappingURL=_b5677ebb._.js.map